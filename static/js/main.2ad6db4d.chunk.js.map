{"version":3,"sources":["reducer.ts","data.ts","components/map/quads.tsx","components/map/route.tsx","components/map/routes.tsx","components/map/transferPoint.tsx","components/map/transferPoints.tsx","components/map/map.tsx","components/clearButton.tsx","components/picker.tsx","components/layout.tsx","components/app.tsx","serviceWorker.ts","index.tsx"],"names":["Actions","TransferPoints","number","name","routeIds","Routes","transferPointIds","filterTransferPoints","active","routes","transferPoints","filter","r","indexOf","reduce","p","c","push","Array","v","i","s","map","tp","reducer","state","action","type","SelectTransferPoint","selectedTransferPoint","activeTransferPointIds","StateDefaults","data","Quads","textStyle","fontFamily","fontWeight","fontSize","fill","pathStyle","stroke","strokeWidth","style","d","x","y","transform","stroke-width","Route","props","context","useContext","AppContext","React","cloneElement","children","color","offColor","TransferPoint","current","circleStyle","textAlign","onClick","dispatch","className","cx","cy","adjustX","Map","xmlns","fillRule","strokeLinecap","strokeLinejoin","strokeMiterlimit","clipRule","viewBox","ClearButton","opacity","Picker","TP","classes","disabled","join","sort","a","b","key","Layout","createContext","App","useReducer","Provider","value","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.2ad6db4d.chunk.js","sourcesContent":["import * as data from './data';\r\nimport { Route } from './types/route';\r\nimport { TransferPoint } from './types/transferPoint';\r\n\r\nfunction filterTransferPoints(active: TransferPoint | null, routes: Route[], transferPoints: TransferPoint[]): number[] {\r\n\tif (!active) {\r\n\t\treturn transferPoints.map(tp => tp.number);\r\n\t}\r\n\r\n\treturn routes\r\n\t\t.filter(r => active.routeIds.indexOf(r.number) >= 0) // only routes associated with this bp\r\n\t\t.reduce((p, c) => {\r\n\t\t\tp.push(...c.transferPointIds);\r\n\t\t\treturn p;\r\n\t\t}, new Array<number>()) // find transfer points for these routes\r\n\t\t.filter((v, i, s) => s.indexOf(v) === i) // distinct\r\n}\r\n\r\ninterface DefaultableState {\r\n\ttransferPoints: TransferPoint[];\r\n\troutes: Route[];\r\n\tselectedTransferPoint: TransferPoint | null;\r\n\tactiveTransferPointIds: number[];\r\n}\r\n\r\nexport type State = Readonly<DefaultableState>;\r\n\r\nexport enum Actions {\r\n\tSelectTransferPoint\r\n}\r\n\r\ninterface BaseAction<T extends Actions> {\r\n\ttype: T;\r\n}\r\n\r\ninterface SetCurrentTransferPoint extends BaseAction<Actions.SelectTransferPoint> {\r\n\tselectedTransferPoint: TransferPoint | null;\r\n}\r\n\r\nexport type Action = SetCurrentTransferPoint;\r\n\r\nexport function reducer(state: State, action: Action): State {\r\n\tswitch (action.type) {\r\n\t\tcase Actions.SelectTransferPoint:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tselectedTransferPoint: action.selectedTransferPoint,\r\n\t\t\t\tactiveTransferPointIds: filterTransferPoints(action.selectedTransferPoint, state.routes, state.transferPoints)\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport const StateDefaults: DefaultableState = ({\r\n\ttransferPoints: data.TransferPoints,\r\n\troutes: data.Routes,\r\n\tselectedTransferPoint: null,\r\n\tactiveTransferPointIds: filterTransferPoints(null, data.Routes, data.TransferPoints)\r\n});\r\n","import { Route } from \"./types/route\";\r\nimport { TransferPoint } from \"./types/transferPoint\";\r\n\r\nexport const TransferPoints: TransferPoint[] = [\r\n\t{\r\n\t\tnumber: 1,\r\n\t\tname: 'Illini Union',\r\n\t\trouteIds: [5, 12, 13, 22]\r\n\t},\r\n\t{\r\n\t\tnumber: 2,\r\n\t\tname: 'Main Library',\r\n\t\trouteIds: [10, 13, 22]\r\n\t},\r\n\t{\r\n\t\tnumber: 3,\r\n\t\tname: 'FAR/PAR',\r\n\t\trouteIds: [12, 13, 22]\r\n\t},\r\n\t{\r\n\t\tnumber: 4,\r\n\t\tname: 'Downtown Champaign',\r\n\t\trouteIds: [1, 5, 12]\r\n\t},\r\n\t{\r\n\t\tnumber: 5,\r\n\t\tname: 'Ikenberry Commons',\r\n\t\trouteIds: [1, 10]\r\n\t},\r\n\t{\r\n\t\tnumber: 6,\r\n\t\tname: 'Research Park',\r\n\t\trouteIds: [1]\r\n\t},\r\n\t{\r\n\t\tnumber: 7,\r\n\t\tname: 'Orchard Downs',\r\n\t\trouteIds: [12]\r\n\t},\r\n\t{\r\n\t\tnumber: 9,\r\n\t\tname: 'E-14',\r\n\t\trouteIds: [1, 10]\r\n\t}\r\n];\r\n\r\nexport const Routes: Route[] = [\r\n\t{\r\n\t\tnumber: 1,\r\n\t\tname: 'Yellow',\r\n\t\ttransferPointIds: [4, 5, 6, 9]\r\n\t},\r\n\t{\r\n\t\tnumber: 5,\r\n\t\tname: 'Green',\r\n\t\ttransferPointIds: [1, 4, 8]\r\n\t},\r\n\t{\r\n\t\tnumber: 10,\r\n\t\tname: 'Gold',\r\n\t\ttransferPointIds: [2, 5, 8, 9]\r\n\t},\r\n\t{\r\n\t\tnumber: 12,\r\n\t\tname: 'Teal',\r\n\t\ttransferPointIds: [1, 3, 4, 7]\r\n\t},\r\n\t{\r\n\t\tnumber: 13,\r\n\t\tname: 'Silver',\r\n\t\ttransferPointIds: [2, 3, 8]\r\n\t},\r\n\t{\r\n\t\tnumber: 22,\r\n\t\tname: 'Illini',\r\n\t\ttransferPointIds: [1, 2, 3]\r\n\t},\r\n];\r\n","import React, { FC } from 'react';\r\n\r\nconst Quads: FC = () => {\r\n\tconst textStyle = {\r\n\t\tfontFamily: 'Interstate',\r\n\t\tfontWeight: 300,\r\n\t\tfontSize: '266.667px',\r\n\t\tfill: '#222'\r\n\t};\r\n\tconst pathStyle = {\r\n\t\tfill: '#e3e8e5',\r\n\t\tstroke: '#666',\r\n\t\tstrokeWidth: '33.33px'\r\n\t};\r\n\treturn (\r\n\t\t<g>\r\n\t\t\t<path style={pathStyle} d=\"M5500 4010c0-60.71-49.29-110-110-110h-880c-60.71 0-110 49.29-110 110v1370c0 60.71 49.29 110 110 110h880c60.71 0 110-49.29 110-110V4010z\" />\r\n\t\t\t<text style={textStyle} x=\"4599.97\" y=\"2985.62\" transform=\"matrix(1.10753 0 0 1.07334 -491.467 1442.47)\">Main</text>\r\n\t\t\t<text style={textStyle} x=\"4599.97\" y=\"3252.29\" transform=\"matrix(1.10753 0 0 1.07334 -491.467 1442.47)\">Quad</text>\r\n\t\t\t<path style={pathStyle} fill=\"#e3e8e5\" stroke=\"#222\" stroke-width=\"33.33\" d=\"M5500 2725c0-124.18-100.82-225-225-225h-650c-124.18 0-225 100.82-225 225v450c0 124.18 100.82 225 225 225h650c124.18 0 225-100.82 225-225v-450z\" />\r\n\t\t\t<text style={textStyle} x=\"4599.97\" y=\"2985.62\" transform=\"translate(4.429 -79.89)\">North</text>\r\n\t\t\t<text style={textStyle} x=\"4599.97\" y=\"3252.29\" transform=\"translate(4.429 -79.89)\">Quad</text>\r\n\t\t</g>\r\n\t);\r\n};\r\nexport default Quads;\r\n","import React, { FC, ReactElement, useContext } from 'react';\r\nimport { AppContext } from '../app';\r\n\r\ninterface Props {\r\n\tnumber: number;\r\n\tcolor: string;\r\n\toffColor: string;\r\n\tchildren: ReactElement;\r\n}\r\n\r\nconst Route: FC<Props> = (props: Props) => {\r\n\tconst context = useContext(AppContext);\r\n\tconst active = !context.state.selectedTransferPoint || context.state.selectedTransferPoint.routeIds.indexOf(props.number) > -1;\r\n\r\n\treturn (\r\n\t\tReact.cloneElement(props.children, {\r\n\t\t\tstyle: {\r\n\t\t\t\tfill: 'none',\r\n\t\t\t\tstroke: active ? props.color : props.offColor,\r\n\t\t\t\tstrokeWidth: 75\r\n\t\t\t}\r\n\t\t})\r\n\t);\r\n}\r\n\r\nexport default Route;\r\n","import React, { FC } from 'react';\r\nimport Route from './route';\r\n\r\nconst Routes: FC = () => (\r\n\t<g>\r\n\t\t<Route number={22} color=\"#5A1D5A\" offColor=\"#eee9ef\">\r\n\t\t\t<path d=\"M7000 2000v1350c0 138.07-111.93 250-250 250H4549.74c-137.97 0-249.85 111.77-250 249.74-.37 362.46-1.06 1030.16-1.43 1389.92-.14 136.1-109.12 247.08-245.19 249.7C3818.54 5493.87 3500 5500 3500 5500h0c0-110.46-89.54-200-200-200h-50a250.04 250.04 0 00-176.78 73.22A250.04 250.04 0 003000 5550v500c0 66.3 26.34 129.89 73.22 176.78A250.04 250.04 0 003250 6300h50c110.46 0 200-89.54 200-200h0c0-110.46 89.54-200 200-200h1750c138.07 0 250-111.93 250-250v-900c0-66.3 26.34-129.89 73.22-176.78A250.04 250.04 0 015950 4500h400c66.3 0 129.89 26.34 176.78 73.22A250.04 250.04 0 016600 4750v1850\" />\r\n\t\t</Route>\r\n\t\t<Route number={13} color=\"#ccc\" offColor=\"#f2f2f2\">\r\n\t\t\t<path d=\"M9199.98 3500h-288.51c-259.62 0-504.7-119.86-664.09-324.8 0 0 0 0 0 0-282.28-362.92-716.3-575.2-1176.08-575.2H5950a250.04 250.04 0 00-176.78 73.22A250.04 250.04 0 005700 2850v400c0 66.3-26.34 129.89-73.22 176.78A250.04 250.04 0 015450 3500H4350c-138.07 0-250 111.93-250 250v1506.7c0 38-15.1 74.45-41.97 101.33A143.339 143.339 0 013956.7 5400H3700a100.01 100.01 0 00-70.71 29.29A100.01 100.01 0 003600 5500h0c0 55.23 44.77 100 100 100h2100c26.52 0 51.96 10.54 70.71 29.29A100.01 100.01 0 015900 5700v250c0 39.78-15.8 77.94-43.93 106.07A150.01 150.01 0 015750 6100h0c-138.07 0-250 111.93-250 250 0 0 0 0 0 0 0 138.07 111.93 250 250 250h850\" />\r\n\t\t</Route>\r\n\t\t<Route number={12} color=\"#006991\" offColor=\"#c9dae3\">\r\n\t\t\t<path d=\"M1100 2300h2840c42.43 0 83.13 16.86 113.14 46.86 30 30.01 46.86 70.71 46.86 113.14v1090c0 66.3 26.34 129.89 73.22 176.78A250.04 250.04 0 004350 3800h1000c66.3 0 129.89 26.34 176.78 73.22A250.04 250.04 0 015600 4050v1250c0 110.46 89.54 200 200 200h0c110.46 0 200 89.54 200 200v250c0 138.07-111.93 250-250 250h-20c-71.8 0-130 58.2-130 130v40c0 71.8 58.2 130 130 130h692.63c106.24 0 200.87 67.14 235.96 167.41L7300 8500\" />\r\n\t\t</Route>\r\n\t\t<Route number={10} color=\"#c7994a\" offColor=\"#f0e6d4\">\r\n\t\t\t<path d=\"M9200 3600c-147.03 0-267.29-2.87-365.49-7.36-250.51-11.58-482.26-136.15-630.12-338.7v.01c-256.32-351.11-664.51-559.17-1099.22-560.28-389.77-2.85-853.85-5.27-1140.43-3.12-87.14 1.47-157.08 72.42-157.3 159.57-1.28 504.72-5.26 2084.58-6.81 2700.51-.35 137.82-112.18 249.37-250 249.37H3107.48c-114.59 0-207.48 92.89-207.48 207.48V6700\" />\r\n\t\t</Route>\r\n\t\t<Route number={5} color=\"#008063\" offColor=\"#cae0d9\">\r\n\t\t\t<path d=\"M1100 2300v709.01c0 381.63 309.37 690.99 690.99 690.99h7408.99\" />\r\n\t\t</Route>\r\n\t\t<Route number={1} color=\"#fcee1f\" offColor=\"#fefbd1\">\r\n\t\t\t<path d=\"M1100 2200h2850.06c138.05 0 249.96 111.89 250 249.95.14 644.21.52 2355.66.66 2999.99a250.053 250.053 0 01-73.2 176.82 250.045 250.045 0 01-176.8 73.24H3050c-138.07 0-250 111.93-250 250v552.84c0 131.12 12.95 261.92 38.67 390.49C2919.72 7298.6 3100 8200 3100 8200\" />\r\n\t\t</Route>\r\n\t</g>\r\n);\r\n\r\nexport default Routes;\r\n","import React, { CSSProperties, FC, useContext } from 'react';\r\nimport { Actions } from '../../reducer';\r\nimport { AppContext } from '../app';\r\n\r\ninterface Props {\r\n\tx: number;\r\n\ty: number;\r\n\tnumber: number;\r\n\tadjustX?: number | undefined;\r\n}\r\n\r\nconst TransferPoint: FC<Props> = (props: Props) => {\r\n\tconst context = useContext(AppContext);\r\n\tconst active = !context.state.selectedTransferPoint || (context.state.activeTransferPointIds.indexOf(props.number) > -1);\r\n\tconst current = context.state.selectedTransferPoint?.number === props.number;\r\n\tconst circleStyle: CSSProperties = {\r\n\t\tfill: '#fff',\r\n\t\tstroke: active ? (current ? '#f32735' : '#222') : '#ccc',\r\n\t\tstrokeWidth: '33.33px'\r\n\t};\r\n\r\n\tconst textStyle: CSSProperties = {\r\n\t\tfontFamily: 'Interstate',\r\n\t\tfontWeight: 900,\r\n\t\tfontSize: '250px',\r\n\t\tfill: active ? (current ? '#f32735' : '#222') : '#ccc',\r\n\t\ttextAlign: 'center'\r\n\t}\r\n\r\n\tfunction onClick(): void {\r\n\t\tconst selectedTransferPoint = context.state.transferPoints.filter(tp => tp.number === props.number)[0];\r\n\t\tcontext.dispatch({\r\n\t\t\ttype: Actions.SelectTransferPoint,\r\n\t\t\tselectedTransferPoint\r\n\t\t});\r\n\t}\r\n\r\n\treturn (\r\n\t\t<g onClick={onClick} className=\"tp\">\r\n\t\t\t<circle cx={props.x} cy={props.y} r=\"150\" style={circleStyle} />\r\n\t\t\t<text\r\n\t\t\t\tx={props.x - 85 + (props.adjustX ?? 0)}\r\n\t\t\t\ty={props.y + 88}\r\n\t\t\t\tstyle={textStyle}\r\n\t\t\t>{props.number}</text>\r\n\t\t</g>\r\n\t);\r\n};\r\n\r\nexport default TransferPoint;\r\n","import React, { FC } from 'react';\r\nimport TransferPoint from './transferPoint';\r\n\r\nconst TransferPoints: FC = () => (\r\n\t<g>\r\n\t\t<TransferPoint number={1} x={4950} y={3650} adjustX={30} />\r\n\t\t<TransferPoint number={2} x={4950} y={5750} />\r\n\t\t<TransferPoint number={3} x={6600} y={6550} />\r\n\t\t<TransferPoint number={4} x={1100} y={2250} adjustX={-15} />\r\n\t\t<TransferPoint number={5} x={3300} y={5750} />\r\n\t\t<TransferPoint number={6} x={3100} y={8200} />\r\n\t\t<TransferPoint number={7} x={7300} y={8500} />\r\n\t\t<TransferPoint number={8} x={9250} y={3600} />\r\n\t\t<TransferPoint number={9} x={2850} y={6750} />\r\n\t</g>\r\n);\r\n\r\nexport default TransferPoints;\r\n","import React, { FC } from 'react';\r\nimport '../../scss/map.scss';\r\nimport Quads from './quads';\r\nimport Routes from './routes';\r\nimport TransferPoints from './transferPoints';\r\n\r\nconst Map: FC = () => {\r\n\treturn (\r\n\t\t<div className=\"map\">\r\n\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" fillRule=\"evenodd\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeMiterlimit=\"1.5\" clipRule=\"evenodd\" viewBox=\"0 0 10000 10000\">\r\n\t\t\t\t<Quads />\r\n\t\t\t\t<Routes />\r\n\t\t\t\t<TransferPoints />\r\n\t\t\t</svg>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Map;\r\n","import React, { CSSProperties, FC, useContext } from 'react';\r\nimport { Actions } from '../reducer';\r\nimport '../scss/clear-button.scss';\r\nimport { AppContext } from './app';\r\n\r\nconst ClearButton: FC = () => {\r\n\tconst context = useContext(AppContext);\r\n\tconst show = context.state.selectedTransferPoint !== null;\r\n\tconst style: CSSProperties = {\r\n\t\topacity: show ? 1 : 0\r\n\t};\r\n\r\n\tfunction onClick(): void {\r\n\t\tcontext.dispatch({\r\n\t\t\ttype: Actions.SelectTransferPoint,\r\n\t\t\tselectedTransferPoint: null\r\n\t\t});\r\n\t}\r\n\r\n\treturn (\r\n\t\t<button className=\"clear-button\" style={style} onClick={onClick}>\r\n\t\t\tClear\r\n\t\t</button>\r\n\t);\r\n}\r\n\r\nexport default ClearButton;\r\n","import React, { FC, ReactElement, useContext } from 'react';\r\nimport { Actions } from '../reducer';\r\nimport '../scss/picker.scss';\r\nimport { TransferPoint } from '../types/transferPoint';\r\nimport { AppContext } from './app';\r\nimport ClearButton from './clearButton';\r\n\r\nconst Picker: FC = () => {\r\n\tconst context = useContext(AppContext);\r\n\r\n\tfunction TP(props: TransferPoint): ReactElement {\r\n\t\tfunction onClick(): void {\r\n\t\t\tcontext.dispatch({ type: Actions.SelectTransferPoint, selectedTransferPoint: props });\r\n\t\t}\r\n\r\n\t\tconst active = context.state.selectedTransferPoint?.number === props.number;\r\n\t\tconst classes: string[] = [];\r\n\r\n\t\tif (active) {\r\n\t\t\tclasses.push('active');\r\n\t\t}\r\n\r\n\t\tif (context.state.selectedTransferPoint !== null) {\r\n\t\t\tif (context.state.activeTransferPointIds.indexOf(props.number) > -1) {\r\n\t\t\t\tclasses.push('served');\r\n\t\t\t} else {\r\n\t\t\t\tclasses.push('not-served');\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t\treturn (\r\n\t\t\t<li className=\"tp\">\r\n\t\t\t\t<button onClick={onClick} disabled={active} className={classes.join(' ')}>\r\n\t\t\t\t\t<strong>{props.number}</strong>\r\n\t\t\t\t\t{props.name}\r\n\t\t\t\t</button>\r\n\t\t\t</li>\r\n\t\t);\r\n\t}\r\n\r\n\r\n\treturn (\r\n\t\t<div className=\"picker\">\r\n\t\t\t<ul>\r\n\t\t\t\t{context\r\n\t\t\t\t\t.state\r\n\t\t\t\t\t.transferPoints\r\n\t\t\t\t\t.sort((a, b) => a.number - b.number)\r\n\t\t\t\t\t.map(tp => <TP key={tp.number} {...tp} />)}\r\n\t\t\t</ul>\r\n\t\t\t<ClearButton />\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Picker;\r\n","import React, { FC } from 'react';\r\nimport '../scss/layout.scss';\r\nimport Map from './map/map';\r\nimport Picker from './picker';\r\n\r\nconst Layout: FC = () => (\r\n\t<div className=\"container\">\r\n\t\t<Picker />\r\n\t\t<Map />\r\n\t</div>\r\n);\r\nexport default Layout;\r\n","import React, { Context, createContext, Dispatch, useReducer } from 'react';\nimport { Action, reducer, State, StateDefaults } from '../reducer';\nimport '../scss/app.scss';\nimport Layout from './layout';\n\nexport interface AppContextType {\n\tdispatch: Dispatch<Action>;\n\tstate: State;\n}\n\nexport const AppContext: Context<AppContextType> = createContext<AppContextType>({\n\tdispatch: () => { },\n\tstate: { ...StateDefaults }\n});\n\nfunction App() {\n\tconst [state, dispatch] = useReducer(reducer, { ...StateDefaults });\n\tconst context = { state, dispatch };\n\n\treturn (\n\t\t<AppContext.Provider value={context}>\n\t\t\t<Layout />\n\t\t</AppContext.Provider>\n\t);\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n\twindow.location.hostname === 'localhost' ||\n\t// [::1] is the IPv6 localhost address.\n\twindow.location.hostname === '[::1]' ||\n\t// 127.0.0.0/8 are considered localhost for IPv4.\n\twindow.location.hostname.match(\n\t\t/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n\t)\n);\n\ntype Config = {\n\tonSuccess?: (registration: ServiceWorkerRegistration) => void;\n\tonUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n\tif (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n\t\t// The URL constructor is available in all browsers that support SW.\n\t\tconst publicUrl = new URL(\n\t\t\tprocess.env.PUBLIC_URL,\n\t\t\twindow.location.href\n\t\t);\n\t\tif (publicUrl.origin !== window.location.origin) {\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\n\t\t\treturn;\n\t\t}\n\n\t\twindow.addEventListener('load', () => {\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n\t\t\tif (isLocalhost) {\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\n\t\t\t\tcheckValidServiceWorker(swUrl, config);\n\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\n\t\t\t\t// service worker/PWA documentation.\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\n\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t'This web app is being served cache-first by a service ' +\n\t\t\t\t\t\t'worker. To learn more, visit https://bit.ly/CRA-PWA'\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Is not localhost. Just register service worker\n\t\t\t\tregisterValidSW(swUrl, config);\n\t\t\t}\n\t\t});\n\t}\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n\tnavigator.serviceWorker\n\t\t.register(swUrl)\n\t\t.then(registration => {\n\t\t\tregistration.onupdatefound = () => {\n\t\t\t\tconst installingWorker = registration.installing;\n\t\t\t\tif (installingWorker == null) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tinstallingWorker.onstatechange = () => {\n\t\t\t\t\tif (installingWorker.state === 'installed') {\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\n\t\t\t\t\t\t\t// content until all client tabs are closed.\n\t\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t\t'New content is available and will be used when all ' +\n\t\t\t\t\t\t\t\t'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// At this point, everything has been precached.\n\t\t\t\t\t\t\t// It's the perfect time to display a\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\n\t\t\t\t\t\t\tconsole.log('Content is cached for offline use.');\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\t\t})\n\t\t.catch(error => {\n\t\t\tconsole.error('Error during service worker registration:', error);\n\t\t});\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n\t// Check if the service worker can be found. If it can't reload the page.\n\tfetch(swUrl, {\n\t\theaders: { 'Service-Worker': 'script' }\n\t})\n\t\t.then(response => {\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\n\t\t\tconst contentType = response.headers.get('content-type');\n\t\t\tif (\n\t\t\t\tresponse.status === 404 ||\n\t\t\t\t(contentType != null && contentType.indexOf('javascript') === -1)\n\t\t\t) {\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\n\t\t\t\tnavigator.serviceWorker.ready.then(registration => {\n\t\t\t\t\tregistration.unregister().then(() => {\n\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Service worker found. Proceed as normal.\n\t\t\t\tregisterValidSW(swUrl, config);\n\t\t\t}\n\t\t})\n\t\t.catch(() => {\n\t\t\tconsole.log(\n\t\t\t\t'No internet connection found. App is running in offline mode.'\n\t\t\t);\n\t\t});\n}\n\nexport function unregister() {\n\tif ('serviceWorker' in navigator) {\n\t\tnavigator.serviceWorker.ready\n\t\t\t.then(registration => {\n\t\t\t\tregistration.unregister();\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconsole.error(error.message);\n\t\t\t});\n\t}\n}\n","import React, { StrictMode } from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/app';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n\t<StrictMode>\n\t\t<App />\n\t</StrictMode>,\n\tdocument.getElementById('root')\n);\n\nserviceWorker.unregister();\n"],"sourceRoot":""}